<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <!-- <link rel="icon" href="../favicon.png" /> -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    
		<link href="../_app/immutable/assets/0.B1HFxwMM.css" rel="stylesheet">
		<link rel="modulepreload" href="../_app/immutable/entry/start.B3eV4J36.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/toLMjgXM.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/CrGyUMwP.js">
		<link rel="modulepreload" href="../_app/immutable/entry/app.D4RpWVDH.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/C1FmrZbK.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/uW2q-9yC.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/0.BwZ0Rfn5.js">
		<link rel="modulepreload" href="../_app/immutable/chunks/BjqsW4S-.js">
		<link rel="modulepreload" href="../_app/immutable/nodes/5.Wfp5QV-J.js">
    <title>Cade Lueker</title>
  </head>
  <body data-sveltekit-preload-data="hover" class="d-flex flex-column min-vh-100">
    <div style="display: contents">  <nav class="navbar navbar-expand-lg nav-underline svelte-o3pmng" data-bs-theme="dark"><div class="container-fluid"><button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation" data-svelte-h="svelte-1eytg9k"><span class="navbar-toggler-icon"></span></button> <span class="navbar-brand mb-0 h1 svelte-o3pmng" data-svelte-h="svelte-1vnwv4d">Cade Lueker</span> <div class="collapse navbar-collapse" id="navbarNav"><ul class="navbar-nav ms-auto" style="margin-right: 10px;"><li class="nav-item"><a class="nav-link " href="/">Home</a></li> <li class="nav-item"><a class="nav-link " href="/about">About</a></li> <li class="nav-item"><a class="nav-link active" href="/blog">Blog</a></li></ul></div></div> </nav> <div class="all-content svelte-1b1lzt9"><div class="blog-post svelte-e0j7s0"><article><h1>Advent of Code 2024 day 1 in Zig</h1> <p>Published: 01-11-25</p> <nav class="toc" data-svelte-h="svelte-13j1ssa"><ol class="toc-level toc-level-1"><li class="toc-item toc-item-h1"><a class="toc-link toc-link-h1" href="#advent-of-code">Advent of Code</a><ol class="toc-level toc-level-2"><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#why-zig">Why Zig</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#zig-build">Zig Build</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#loading-files">Loading Files</a><ol class="toc-level toc-level-3"><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#using-a-reader">using a ‘reader’</a></li><li class="toc-item toc-item-h3"><a class="toc-link toc-link-h3" href="#embedding-the-file">embedding the file</a></li></ol></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#parsing-each-line">parsing each line</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#sorting-the-stored-values-from-each-line">sorting the stored values from each line</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#full-code">Full Code</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#python-code">Python Code</a></li><li class="toc-item toc-item-h2"><a class="toc-link toc-link-h2" href="#speed-comparison">Speed Comparison</a></li></ol></li></ol></nav> <h1 id="advent-of-code" data-svelte-h="svelte-12y2lw0"><a aria-hidden="true" tabindex="-1" href="#advent-of-code"><span class="icon icon-link"></span></a>Advent of Code</h1> <ul data-svelte-h="svelte-1h8vnsh"><li><a href="https://adventofcode.com/" rel="nofollow">advent of code</a> is an advent calendar where each day a new two part puzzle gets released with each user getting a unique input.</li> <li>it has become a tradition for many tech enthusiasts, and is usually done in a variety of languages or in a language someone is interested in as a way to learn it.</li> <li>This year I had finals around the same time as advent of code so I had to take this year off but I decided to look more into Zig and start doing problems as I found time.</li> <li>I can’t recommend AOC (advent of code) enough, it’s lots of fun and when it comes to string manipulation and basic algorithms it is a great way to learn!</li> <li>previously I used AOC to learn Clojure, Golang, and Rust
<ul><li>I have a <a href="https://www.youtube.com/watch?v=HBrxyTClly4" rel="nofollow">video</a> going through day 2 of the 2023 year in Clojure.</li></ul></li></ul> <blockquote data-svelte-h="svelte-1hyfqo5"><p>the problem being tackled by this post can be found <a href="https://adventofcode.com/2024/day/1" rel="nofollow">here</a>.</p></blockquote> <h2 id="why-zig" data-svelte-h="svelte-w37oiy"><a aria-hidden="true" tabindex="-1" href="#why-zig"><span class="icon icon-link"></span></a>Why Zig</h2> <ul data-svelte-h="svelte-cdxyci"><li>just for my own ego I will say I have been interested in Zig long before <a href="https://ghostty.org/" rel="nofollow">Ghostty</a>. For those who don’t follow tech trends (people who have friends and touch grass) Ghostty is the newest terminal on the block. It’s claim to fame is native GUI on MacOS and Linux and being written in Zig. I started learning Zig around a year ago but opted for Rust as the startup I was working at used Rust extensively. However, I was intrigued by Zig, but felt that what I was interested in making and what I needed to know for work did not have a place for Zig.
<ul><li>a <a href="https://www.youtube.com/watch?v=l3UWcaS8A1Y&amp;t=2s" rel="nofollow">video</a> I made on Zig as a build tool when I was mad at the Rust Foundation for their crazy copyright plans they have since retracted.</li></ul></li> <li><strong>Zig</strong> is a low level programming language with good <em>quality of life</em> features, a great build system, and although it is a <em>manual memory management</em> language it has several features to make code more safe.
<ul><li>it can be seen as a new C in the same way Rust is seen as a new C++</li> <li>although I do get annoyed by the comparisons of <strong>Rust</strong> and Zig as they are different languages with different use cases I will sin against myself and make a comparison right now.
<ul><li><em>Zig is simple</em>, really simple (not Go simple but close) and offloads a great deal of work onto the programmer. You need to manage memory, the standard library isn’t C small but it’s small. If you are familiar with the 80/20 rule I would say that Zig is the perfect example. It gives you 80% of the ‘safety’ of rust with 20% of the effort.</li> <li><em>Rust is complicated</em>, not a bad thing, but a thing. It has an amazing standard library. For most simple tasks you don’t need any 3rd party packages. You have macros, a great build tool and package manager, and a great community but it is a beast to deal with sometimes. The borrow checker guarantees your code is safe but it isn’t so much a conversation with the borrow checker but an argument. Additionally the syntax is verbose, personally I find it beautiful but when dealing with types your code gets long and verbose. I love Rust, I’m not saying learn Zig not Rust, more learn Zig for Zig things and Rust for Rust things (like when safety is a must).</li></ul></li></ul></li> <li>Sadly Zig being so new there aren’t many resources to learn from. There is the <em>standard library docs</em> which are great but terse. My personal favorite resource is <a href="https://codeberg.org/ziglings/exercises/" rel="nofollow">ziglings</a>. Ziglings is a repository of exercises in Zig. Every exercise is composed of a Zig file with a piece of broken code that you have to fix. You learn Zig by writing a little but of it to fix an error for many niche aspects of the language. It’s amazing, but I did ziglings a year ago and needed to write some ‘real’ programs to feel comfortable with the language. Thats where AOC comes in! I don’t see many solutions for AOC in Zig, and even though the first days are rather simple I hope this tutorial helps someone.</li></ul> <h2 id="zig-build" data-svelte-h="svelte-16kvy1c"><a aria-hidden="true" tabindex="-1" href="#zig-build"><span class="icon icon-link"></span></a>Zig Build</h2> <ul data-svelte-h="svelte-1l2auid"><li>one of the most attractive features of Zig as a <em>C replacement</em> is the compiler.</li> <li>the <strong>Zig compiler</strong> can compile C, C++, and of course Zig code.
<ul><li>this makes Zig not only a language but a build tool, where you configure your builds with Zig!</li> <li>we create our build instructions with a <code>build.zig</code> in the root of our project directory</li> <li>we build with
<ul><li><code>zig build</code> := build a default (usually debug) binary</li> <li><code>zig build -Doptimize=&lt;optimization level&gt;</code> := build an optimized binary based on the parameters passed in</li></ul></li></ul></li> <li>the following is a bare bones <code>build.zig</code> I use for each advent of code problem</li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> std </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> @import</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"std"</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">// required to define a public 'build' function</span></span>
<span class="line"><span style="color:#EA6962">pub</span><span style="color:#EA6962"> fn</span><span style="color:#A9B665"> build</span><span style="color:#D4BE98">(b: </span><span style="color:#E78A4E">*</span><span style="color:#D4BE98">std.Build) </span><span style="color:#7DAEA3">void</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">    // 'exe' represents our executable or binary</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> exe </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> b.</span><span style="color:#A9B665">addExecutable</span><span style="color:#D4BE98">(.&#123;</span></span>
<span class="line"><span style="color:#D4BE98">        .name </span><span style="color:#E78A4E">=</span><span style="color:#D8A657"> "day1"</span><span style="color:#D4BE98">,                             </span><span style="color:#928374;font-style:italic">// name of our binary</span></span>
<span class="line"><span style="color:#D4BE98">        .root_source_file </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> b.</span><span style="color:#A9B665">path</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"./day1.zig"</span><span style="color:#D4BE98">),   </span><span style="color:#928374;font-style:italic">// source code to build</span></span>
<span class="line"><span style="color:#D4BE98">        .target </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> b.</span><span style="color:#A9B665">standardTargetOptions</span><span style="color:#D4BE98">(.&#123;&#125;),     </span><span style="color:#928374;font-style:italic">// options for build target</span></span>
<span class="line"><span style="color:#D4BE98">        .optimize </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> b.</span><span style="color:#A9B665">standardOptimizeOption</span><span style="color:#D4BE98">(.&#123;&#125;),  </span><span style="color:#928374;font-style:italic">// options for optimization of executable</span></span>
<span class="line"><span style="color:#D4BE98">    &#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // 'installArtifact' is required for 'installing' the binary on your file system</span></span>
<span class="line"><span style="color:#928374;font-style:italic">    // ie place the binary in './zig-out/bin/&#x3C;binary>'</span></span>
<span class="line"><span style="color:#D4BE98">    b.</span><span style="color:#A9B665">installArtifact</span><span style="color:#D4BE98">(exe);</span></span>
<span class="line"><span style="color:#D4BE98">&#125;</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="loading-files" data-svelte-h="svelte-1wlinmh"><a aria-hidden="true" tabindex="-1" href="#loading-files"><span class="icon icon-link"></span></a>Loading Files</h2> <ul data-svelte-h="svelte-1onbw5u"><li>the most difficult part of getting started for me was figuring out the best way to load files.</li> <li>you can use a ‘reader’ to read the file or ‘embed’ the file in the resulting binary
<ul><li>when doing rudimentary benchmarking I could not find a significant performance difference between the two approaches</li></ul></li> <li>both methods turn our file’s contents into an <strong>array of u8 values</strong> that we have to split or tokenize on a certain delimiter to get an <strong>iterator</strong> that we use to get the values we need from our file content.</li></ul> <h3 id="using-a-reader" data-svelte-h="svelte-1ek1x3x"><a aria-hidden="true" tabindex="-1" href="#using-a-reader"><span class="icon icon-link"></span></a>using a ‘reader’</h3> <ul data-svelte-h="svelte-1i0izjn"><li>in short use a <code>reader</code> when your file being read isn’t static, ie it might change. You load the file into memory at runtime and ‘read’ it line by line.</li> <li>you need an <code>allocator</code> to allocate memory to the file being read in.
<ul><li>here we can see one of the safety features of Zig with <code>defer</code>.</li> <li>we can defer the <strong>freeing</strong> of our file’s content in memory to when it is no longer used. This way we don’t need to manually place our free function in the exact place it needs to be.</li></ul></li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#928374;font-style:italic">// create a page allocator</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> allocator </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> std.heap.page_allocator;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">// open the input file making sure to close when done</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> file </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fs.</span><span style="color:#A9B665">cwd</span><span style="color:#D4BE98">().</span><span style="color:#A9B665">openFile</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"./day1.txt"</span><span style="color:#D4BE98">, .&#123;&#125;);</span></span>
<span class="line"><span style="color:#EA6962">defer</span><span style="color:#D4BE98"> file.</span><span style="color:#A9B665">close</span><span style="color:#D4BE98">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">// read the file into an array of bytes</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> content: []</span><span style="color:#7DAEA3">u8</span><span style="color:#E78A4E"> =</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> file.</span><span style="color:#A9B665">reader</span><span style="color:#D4BE98">().</span><span style="color:#A9B665">readAllAlloc</span><span style="color:#D4BE98">(allocator, </span><span style="color:#D3869B">999999</span><span style="color:#D4BE98">);</span></span>
<span class="line"><span style="color:#EA6962">defer</span><span style="color:#D4BE98"> allocator.</span><span style="color:#A9B665">free</span><span style="color:#D4BE98">(content);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">// split input bytes by newline, returning an iterator</span></span>
<span class="line"><span style="color:#EA6962">var</span><span style="color:#D4BE98"> it </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> mem.</span><span style="color:#A9B665">tokenizeScalar</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">u8</span><span style="color:#D4BE98">, content, </span><span style="color:#D8A657">'&#92;n'</span><span style="color:#D4BE98">);</span></span></code></pre><!-- HTML_TAG_END --> <h3 id="embedding-the-file" data-svelte-h="svelte-72rgqw"><a aria-hidden="true" tabindex="-1" href="#embedding-the-file"><span class="icon icon-link"></span></a>embedding the file</h3> <ul data-svelte-h="svelte-we5685"><li>if you know that your file won’t change and you want something a bit more simple there is <code>@embed</code>.</li> <li>this is a <strong>comptime</strong> feature or something that takes place at compile time. When your Zig program is compiled the file is embedded in your binary as <code>[]const u8</code> or an immutable array of u8’s.</li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#928374;font-style:italic">// embed the file</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> input </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> @embedFile</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"day1.txt"</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">// tokenize the lines</span></span>
<span class="line"><span style="color:#EA6962">var</span><span style="color:#D4BE98"> it </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> mem.</span><span style="color:#A9B665">tokenizeScalar</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">u8</span><span style="color:#D4BE98">, input, </span><span style="color:#D8A657">'&#92;n'</span><span style="color:#D4BE98">);</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="parsing-each-line" data-svelte-h="svelte-1t1habv"><a aria-hidden="true" tabindex="-1" href="#parsing-each-line"><span class="icon icon-link"></span></a>parsing each line</h2> <ul data-svelte-h="svelte-ml0we1"><li>the next biggest challenge was parsing each line (represented by a value returned by <code>.next()</code> on our iterator of lines).
<ul><li>we continue getting the <em>next</em> line with our while loop, another Zig nicety is that we can <em>capture</em> the value returned by <code>it.next()</code> with the <code>|&lt;name&gt;|</code> syntax, in our case the result of <code>.next()</code> is assigned the name <code>line</code>.</li></ul></li> <li>because each line is an array of u8’s we can’t just take the result as is. The problem for this challenge gives two liens of numbers separated by whitespace. If we just tried to take the u8’s we wouldn’t get a number but an array of u8’s that represent digits of a number.
<ul><li>to work around this we tokenize each line, splitting on <code>&#39; &#39;</code>. Then we parse the resulting u8 array as an integer.
<ul><li>you may have noticed the <code>.?</code>, this is another great Zig feature and is essentially getting a value from an Option, or a function that may fail.</li></ul></li></ul></li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#928374;font-style:italic">// iterate across all lines</span></span>
<span class="line"><span style="color:#EA6962">while</span><span style="color:#D4BE98"> (it.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">()) </span><span style="color:#E78A4E">|</span><span style="color:#D4BE98">line</span><span style="color:#E78A4E">|</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">    // iterator of bytes separated by ' '</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> nums </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> mem.</span><span style="color:#A9B665">tokenizeScalar</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">u8</span><span style="color:#D4BE98">, line, </span><span style="color:#D8A657">' '</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // convert byte representation of left and right to i32</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> l </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fmt.</span><span style="color:#A9B665">parseInt</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, nums.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">().</span><span style="color:#E78A4E">?</span><span style="color:#D4BE98">, </span><span style="color:#D3869B">10</span><span style="color:#D4BE98">);</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> r </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fmt.</span><span style="color:#A9B665">parseInt</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, nums.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">().</span><span style="color:#E78A4E">?</span><span style="color:#D4BE98">, </span><span style="color:#D3869B">10</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // rest of code...</span></span>
<span class="line"><span style="color:#D4BE98">&#125;</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="sorting-the-stored-values-from-each-line" data-svelte-h="svelte-njilqt"><a aria-hidden="true" tabindex="-1" href="#sorting-the-stored-values-from-each-line"><span class="icon icon-link"></span></a>sorting the stored values from each line</h2> <ul data-svelte-h="svelte-14zt4z9"><li>I left out a good deal of the code but want to focus on the Zigisms or Zig specific aspects of solving these types of problesm, before showing the entire program.</li> <li>to solve the problem we need to sort the <code>ArrayLists</code> that are used to save the parsed integer values from the text file.
<ul><li>to do this we can use the <code>.items</code> ArrayList field.
<ul><li>this gives us a ‘view’ into our ArrayList or a slice of all of the values which can be thought of as a mutable array.</li> <li>we don’t need to allocate or free memory for this ‘view’ because the memory has already been allocated for our ArrayList, in essence we are just ‘looking’ at the values in the ArrayList.</li></ul></li> <li>we can then sort these <strong>slices</strong> with <code>mem.sort</code>, which takes the type stored in the slice, the slice, options, and the function to use for sorting.</li></ul></li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#928374;font-style:italic">// create and sort an array of the items in each arraylist</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> leftArr </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> left.items; </span><span style="color:#928374;font-style:italic">// '.items' returns a slice or view of values</span></span>
<span class="line"><span style="color:#D4BE98">mem.</span><span style="color:#A9B665">sort</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, leftArr, &#123;&#125;, std.sort.</span><span style="color:#A9B665">asc</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> rightArr </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> right.items;</span></span>
<span class="line"><span style="color:#D4BE98">mem.</span><span style="color:#A9B665">sort</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, rightArr, &#123;&#125;, std.sort.</span><span style="color:#A9B665">asc</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">));</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="full-code" data-svelte-h="svelte-w8d0oo"><a aria-hidden="true" tabindex="-1" href="#full-code"><span class="icon icon-link"></span></a>Full Code</h2> <ul data-svelte-h="svelte-3u9p0w"><li>This is the full code for the solution to both parts of the problem for AOC 2024 day 1!</li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#928374;font-style:italic">// for testing use</span></span>
<span class="line"><span style="color:#928374;font-style:italic">// - 'zig build'</span></span>
<span class="line"><span style="color:#928374;font-style:italic">// for bechmarking use</span></span>
<span class="line"><span style="color:#928374;font-style:italic">// - 'zig build -Doptimize=ReleaseFast'</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> std </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> @import</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"std"</span><span style="color:#D4BE98">);</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> mem </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> std.mem;</span></span>
<span class="line"><span style="color:#EA6962">const</span><span style="color:#D4BE98"> ArrayList </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> std.ArrayList;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">// if you embed the file use the following</span></span>
<span class="line"><span style="color:#928374;font-style:italic">// const input = @embedFile("day1.txt");</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">pub</span><span style="color:#EA6962"> fn</span><span style="color:#A9B665"> main</span><span style="color:#D4BE98">() </span><span style="color:#E78A4E">!</span><span style="color:#7DAEA3">void</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> allocator </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> std.heap.page_allocator;</span></span>
<span class="line"><span style="color:#D4BE98">    std.debug.</span><span style="color:#A9B665">print</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"AOC 2024 day 1</span><span style="color:#A9B665">&#92;n</span><span style="color:#D8A657">"</span><span style="color:#D4BE98">, .&#123;&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // if embedding the file this is all that's needed</span></span>
<span class="line"><span style="color:#928374;font-style:italic">    // var it = mem.tokenizeScalar(u8, input, '&#92;n');</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // open the input file making sure to close when done</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> file </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fs.</span><span style="color:#A9B665">cwd</span><span style="color:#D4BE98">().</span><span style="color:#A9B665">openFile</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"./day1.txt"</span><span style="color:#D4BE98">, .&#123;&#125;);</span></span>
<span class="line"><span style="color:#EA6962">    defer</span><span style="color:#D4BE98"> file.</span><span style="color:#A9B665">close</span><span style="color:#D4BE98">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // read the file into an array of bytes</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> content: []</span><span style="color:#7DAEA3">u8</span><span style="color:#E78A4E"> =</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> file.</span><span style="color:#A9B665">reader</span><span style="color:#D4BE98">().</span><span style="color:#A9B665">readAllAlloc</span><span style="color:#D4BE98">(allocator, </span><span style="color:#D3869B">999999</span><span style="color:#D4BE98">);</span></span>
<span class="line"><span style="color:#EA6962">    defer</span><span style="color:#D4BE98"> allocator.</span><span style="color:#A9B665">free</span><span style="color:#D4BE98">(content);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // create an arraylist for left values</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> left </span><span style="color:#E78A4E">=</span><span style="color:#7DAEA3"> ArrayList</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">).</span><span style="color:#A9B665">init</span><span style="color:#D4BE98">(allocator);</span></span>
<span class="line"><span style="color:#EA6962">    defer</span><span style="color:#D4BE98"> left.</span><span style="color:#A9B665">deinit</span><span style="color:#D4BE98">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // create an arraylist for right values</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> right </span><span style="color:#E78A4E">=</span><span style="color:#7DAEA3"> ArrayList</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">).</span><span style="color:#A9B665">init</span><span style="color:#D4BE98">(allocator);</span></span>
<span class="line"><span style="color:#EA6962">    defer</span><span style="color:#D4BE98"> right.</span><span style="color:#A9B665">deinit</span><span style="color:#D4BE98">();</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // split input bytes by newline</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> it </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> mem.</span><span style="color:#A9B665">tokenizeScalar</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">u8</span><span style="color:#D4BE98">, content, </span><span style="color:#D8A657">'&#92;n'</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // iterate across all lines</span></span>
<span class="line"><span style="color:#EA6962">    while</span><span style="color:#D4BE98"> (it.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">()) </span><span style="color:#E78A4E">|</span><span style="color:#D4BE98">line</span><span style="color:#E78A4E">|</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">        // iterator of bytes separated by ' '</span></span>
<span class="line"><span style="color:#EA6962">        var</span><span style="color:#D4BE98"> nums </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> mem.</span><span style="color:#A9B665">tokenizeScalar</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">u8</span><span style="color:#D4BE98">, line, </span><span style="color:#D8A657">' '</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">        // convert byte representation of left and right to i32</span></span>
<span class="line"><span style="color:#EA6962">        const</span><span style="color:#D4BE98"> l </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fmt.</span><span style="color:#A9B665">parseInt</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, nums.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">().</span><span style="color:#E78A4E">?</span><span style="color:#D4BE98">, </span><span style="color:#D3869B">10</span><span style="color:#D4BE98">);</span></span>
<span class="line"><span style="color:#EA6962">        const</span><span style="color:#D4BE98"> r </span><span style="color:#E78A4E">=</span><span style="color:#EA6962"> try</span><span style="color:#D4BE98"> std.fmt.</span><span style="color:#A9B665">parseInt</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, nums.</span><span style="color:#A9B665">next</span><span style="color:#D4BE98">().</span><span style="color:#E78A4E">?</span><span style="color:#D4BE98">, </span><span style="color:#D3869B">10</span><span style="color:#D4BE98">);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">        // populate left &#x26; right arraylists</span></span>
<span class="line"><span style="color:#EA6962">        try</span><span style="color:#D4BE98"> left.</span><span style="color:#A9B665">append</span><span style="color:#D4BE98">(l);</span></span>
<span class="line"><span style="color:#EA6962">        try</span><span style="color:#D4BE98"> right.</span><span style="color:#A9B665">append</span><span style="color:#D4BE98">(r);</span></span>
<span class="line"><span style="color:#D4BE98">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // create and sort an array of the items in each arraylist</span></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> leftArr </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> left.items; </span><span style="color:#928374;font-style:italic">// '.items' returns a slice or view of values</span></span>
<span class="line"><span style="color:#D4BE98">    mem.</span><span style="color:#A9B665">sort</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, leftArr, &#123;&#125;, std.sort.</span><span style="color:#A9B665">asc</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">    const</span><span style="color:#D4BE98"> rightArr </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> right.items;</span></span>
<span class="line"><span style="color:#D4BE98">    mem.</span><span style="color:#A9B665">sort</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">, rightArr, &#123;&#125;, std.sort.</span><span style="color:#A9B665">asc</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">i32</span><span style="color:#D4BE98">));</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // Part1</span></span>
<span class="line"><span style="color:#928374;font-style:italic">    // create a value to track the difference of values</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> p1: </span><span style="color:#7DAEA3">i32</span><span style="color:#E78A4E"> =</span><span style="color:#D3869B"> 0</span><span style="color:#D4BE98">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // iterate across both arrays</span></span>
<span class="line"><span style="color:#EA6962">    for</span><span style="color:#D4BE98"> (leftArr, rightArr) </span><span style="color:#E78A4E">|</span><span style="color:#D4BE98">l, r</span><span style="color:#E78A4E">|</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">        // get the absolute value of the difference between right and left nums</span></span>
<span class="line"><span style="color:#EA6962">        var</span><span style="color:#D4BE98"> diff: </span><span style="color:#7DAEA3">i32</span><span style="color:#E78A4E"> =</span><span style="color:#D4BE98"> l </span><span style="color:#E78A4E">-</span><span style="color:#D4BE98"> r;</span></span>
<span class="line"><span style="color:#EA6962">        if</span><span style="color:#D4BE98"> (diff </span><span style="color:#E78A4E">&#x3C;</span><span style="color:#D3869B"> 0</span><span style="color:#D4BE98">) &#123;</span></span>
<span class="line"><span style="color:#D4BE98">            diff </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> diff </span><span style="color:#E78A4E">*</span><span style="color:#E78A4E"> -</span><span style="color:#D3869B">1</span><span style="color:#D4BE98">;</span></span>
<span class="line"><span style="color:#D4BE98">        &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">        // add difference to answer</span></span>
<span class="line"><span style="color:#D4BE98">        p1 </span><span style="color:#E78A4E">+=</span><span style="color:#D4BE98"> diff;</span></span>
<span class="line"><span style="color:#D4BE98">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // print answer for part one</span></span>
<span class="line"><span style="color:#D4BE98">    std.debug.</span><span style="color:#A9B665">print</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"Part 1 => &#123;d&#125;</span><span style="color:#A9B665">&#92;n</span><span style="color:#D8A657">"</span><span style="color:#D4BE98">, .&#123;p1&#125;);</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // Part2</span></span>
<span class="line"><span style="color:#EA6962">    var</span><span style="color:#D4BE98"> p2: </span><span style="color:#7DAEA3">i32</span><span style="color:#E78A4E"> =</span><span style="color:#D3869B"> 0</span><span style="color:#D4BE98">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // iterate across the left array</span></span>
<span class="line"><span style="color:#EA6962">    for</span><span style="color:#D4BE98"> (leftArr) </span><span style="color:#E78A4E">|</span><span style="color:#D4BE98">l</span><span style="color:#E78A4E">|</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">        // track number of repeats</span></span>
<span class="line"><span style="color:#EA6962">        var</span><span style="color:#D4BE98"> repeats: </span><span style="color:#7DAEA3">i32</span><span style="color:#E78A4E"> =</span><span style="color:#D3869B"> 0</span><span style="color:#D4BE98">;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">        // iterate across the right array</span></span>
<span class="line"><span style="color:#EA6962">        for</span><span style="color:#D4BE98"> (rightArr) </span><span style="color:#E78A4E">|</span><span style="color:#D4BE98">r</span><span style="color:#E78A4E">|</span><span style="color:#D4BE98"> &#123;</span></span>
<span class="line"><span style="color:#928374;font-style:italic">            // repeat found</span></span>
<span class="line"><span style="color:#EA6962">            if</span><span style="color:#D4BE98"> (l </span><span style="color:#E78A4E">==</span><span style="color:#D4BE98"> r) &#123;</span></span>
<span class="line"><span style="color:#D4BE98">                repeats </span><span style="color:#E78A4E">+=</span><span style="color:#D3869B"> 1</span><span style="color:#D4BE98">;</span></span>
<span class="line"><span style="color:#D4BE98">            &#125;</span></span>
<span class="line"><span style="color:#D4BE98">        &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">        // increase p2 by the 'repeat score'</span></span>
<span class="line"><span style="color:#D4BE98">        p2 </span><span style="color:#E78A4E">+=</span><span style="color:#D4BE98"> repeats </span><span style="color:#E78A4E">*</span><span style="color:#D4BE98"> l;</span></span>
<span class="line"><span style="color:#D4BE98">    &#125;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    // print answer for part two</span></span>
<span class="line"><span style="color:#D4BE98">    std.debug.</span><span style="color:#A9B665">print</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"Part 2 => &#123;d&#125;</span><span style="color:#A9B665">&#92;n</span><span style="color:#D8A657">"</span><span style="color:#D4BE98">, .&#123;p2&#125;);</span></span>
<span class="line"><span style="color:#D4BE98">&#125;</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="python-code" data-svelte-h="svelte-a6b0b9"><a aria-hidden="true" tabindex="-1" href="#python-code"><span class="icon icon-link"></span></a>Python Code</h2> <ul data-svelte-h="svelte-1emig4o"><li>for the python code I just googled python solutions and this one seemed pretty good. The repo I got it from can be found here
<ul><li><a href="https://github.com/seapagan/aoc-2024/blob/main/01/main.py" rel="nofollow">https://github.com/seapagan/aoc-2024/blob/main/01/main.py</a></li></ul></li> <li>it seems well written and this problem doesn’t have much room for optimization.
<ul><li>again it isn’t my code but I found it on github</li></ul></li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#D3869B">from</span><span style="color:#D4BE98"> collections </span><span style="color:#D3869B">import</span><span style="color:#D4BE98"> Counter</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic"># ------------------------ read in and return the data ----------------------- #</span></span>
<span class="line"><span style="color:#EA6962">def</span><span style="color:#A9B665"> get_data</span><span style="color:#D4BE98">()</span><span style="color:#D4BE98"> -></span><span style="color:#A9B665"> tuple</span><span style="color:#D4BE98">[</span><span style="color:#A9B665">list</span><span style="color:#D4BE98">[</span><span style="color:#7DAEA3">int</span><span style="color:#D4BE98">],</span><span style="color:#A9B665"> list</span><span style="color:#D4BE98">[</span><span style="color:#7DAEA3">int</span><span style="color:#D4BE98">]]:</span></span>
<span class="line"><span style="color:#EA6962">    with</span><span style="color:#A9B665"> open</span><span style="color:#D4BE98">(</span><span style="color:#D8A657">"day1.txt"</span><span style="color:#D4BE98">, </span><span style="color:#D8A657">"r"</span><span style="color:#D4BE98">) </span><span style="color:#EA6962">as</span><span style="color:#D4BE98"> file:</span></span>
<span class="line"><span style="color:#928374;font-style:italic">        # Read and process all lines, splitting into two sorted arrays</span></span>
<span class="line"><span style="color:#D4BE98">        data </span><span style="color:#E78A4E">=</span><span style="color:#D4BE98"> [</span><span style="color:#7DAEA3">tuple</span><span style="color:#D4BE98">(</span><span style="color:#A9B665">map</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">int</span><span style="color:#D4BE98">, line</span><span style="color:#928374">.</span><span style="color:#A9B665">strip</span><span style="color:#D4BE98">()</span><span style="color:#928374">.</span><span style="color:#A9B665">split</span><span style="color:#D4BE98">())) </span><span style="color:#EA6962">for</span><span style="color:#D4BE98"> line </span><span style="color:#EA6962">in</span><span style="color:#D4BE98"> file]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic">    # Unzip and sort</span></span>
<span class="line"><span style="color:#D4BE98">    array1, array2 </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> zip</span><span style="color:#D4BE98">(</span><span style="color:#E78A4E">*</span><span style="color:#D4BE98">data)</span></span>
<span class="line"><span style="color:#EA6962">    return</span><span style="color:#A9B665"> sorted</span><span style="color:#D4BE98">(array1), </span><span style="color:#A9B665">sorted</span><span style="color:#D4BE98">(array2)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic"># ---------------------- calculate the answer for part 1 --------------------- #</span></span>
<span class="line"><span style="color:#EA6962">def</span><span style="color:#A9B665"> part1</span><span style="color:#D4BE98">(array1,</span><span style="color:#D4BE98"> array2):</span></span>
<span class="line"><span style="color:#D4BE98">    running_total </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> sum</span><span style="color:#D4BE98">(</span><span style="color:#A9B665">abs</span><span style="color:#D4BE98">(a </span><span style="color:#E78A4E">-</span><span style="color:#D4BE98"> b) </span><span style="color:#EA6962">for</span><span style="color:#D4BE98"> a, b </span><span style="color:#EA6962">in</span><span style="color:#A9B665"> zip</span><span style="color:#D4BE98">(array1, array2))</span></span>
<span class="line"><span style="color:#EA6962">    return</span><span style="color:#D4BE98"> running_total</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#928374;font-style:italic"># ---------------------- calculate the answer for part 2 --------------------- #</span></span>
<span class="line"><span style="color:#EA6962">def</span><span style="color:#A9B665"> part2</span><span style="color:#D4BE98">(array1,</span><span style="color:#D4BE98"> array2):</span></span>
<span class="line"><span style="color:#D4BE98">    similarity </span><span style="color:#E78A4E">=</span><span style="color:#D3869B"> 0</span></span>
<span class="line"><span style="color:#D4BE98">    array2_counts </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> Counter</span><span style="color:#D4BE98">(array2)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">    for</span><span style="color:#D4BE98"> num </span><span style="color:#EA6962">in</span><span style="color:#D4BE98"> array1:</span></span>
<span class="line"><span style="color:#D4BE98">        similarity </span><span style="color:#E78A4E">+=</span><span style="color:#D4BE98"> num </span><span style="color:#E78A4E">*</span><span style="color:#D4BE98"> array2_counts[num]</span></span>
<span class="line"></span>
<span class="line"><span style="color:#EA6962">    return</span><span style="color:#D4BE98"> similarity</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="color:#D4BE98">first, second </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> get_data</span><span style="color:#D4BE98">()  </span><span style="color:#928374;font-style:italic"># O(n)</span></span>
<span class="line"><span style="color:#D4BE98">part1_answer </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> part1</span><span style="color:#D4BE98">(first, second)  </span><span style="color:#928374;font-style:italic"># O(n) since both arrays are the same size</span></span>
<span class="line"><span style="color:#D4BE98">part2_answer </span><span style="color:#E78A4E">=</span><span style="color:#A9B665"> part2</span><span style="color:#D4BE98">(first, second)  </span><span style="color:#928374;font-style:italic"># O(n + m)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A9B665">print</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">f</span><span style="color:#D8A657">"Answer to Part 1 is </span><span style="color:#D4BE98">&#123;part1_answer&#125;</span><span style="color:#D8A657">"</span><span style="color:#D4BE98">)  </span><span style="color:#928374;font-style:italic"># for me it is 1388114</span></span>
<span class="line"><span style="color:#A9B665">print</span><span style="color:#D4BE98">(</span><span style="color:#7DAEA3">f</span><span style="color:#D8A657">"Answer to Part 2 is </span><span style="color:#D4BE98">&#123;part2_answer&#125;</span><span style="color:#D8A657">"</span><span style="color:#D4BE98">)  </span><span style="color:#928374;font-style:italic"># for me it is 23529853</span></span></code></pre><!-- HTML_TAG_END --> <h2 id="speed-comparison" data-svelte-h="svelte-1xrnsce"><a aria-hidden="true" tabindex="-1" href="#speed-comparison"><span class="icon icon-link"></span></a>Speed Comparison</h2> <ul data-svelte-h="svelte-1ioxemz"><li>to see how performant Zig is I used the cli benchmarking tool <code>hyperfine</code> to compare the execution time for the Zig and Python implementations.</li> <li>this isn’t to be taken as pure fact, I’m using <em>hyperfine</em> on my laptop and the reported time can be affected by CPU architecture, other programs running on your computer, etc… 
<ul><li>however, it still shows the great performance of Zig!</li></ul></li></ul> <!-- HTML_TAG_START --><pre class="shiki gruvbox" style="background-color:#292828;color:#d4be98" tabindex="0"><code><span class="line"><span style="color:#A9B665">ziggy/2024/d1</span></span>
<span class="line"><span style="color:#A9B665">%</span><span style="color:#D8A657"> zig</span><span style="color:#D8A657"> build</span><span style="color:#D8A657"> -Doptimize=ReleaseFast</span></span>
<span class="line"><span style="color:#A9B665">ziggy/2024/d1</span></span>
<span class="line"><span style="color:#A9B665">%</span><span style="color:#D8A657"> hyperfine</span><span style="color:#A9B665"> './zig-out/bin/day1'</span></span>
<span class="line"><span style="color:#A9B665">Benchmark</span><span style="color:#D8A657"> 1:</span><span style="color:#D8A657"> ./zig-out/bin/day1</span></span>
<span class="line"><span style="color:#A9B665">  Time</span><span style="color:#D4BE98"> (mean </span><span style="color:#D8A657">±</span><span style="color:#D8A657"> σ</span><span style="color:#D4BE98">):     266.8 µs ±  51.2 µs    [User: </span><span style="color:#D3869B">215.1</span><span style="color:#D4BE98"> µs, System: </span><span style="color:#D3869B">64.5</span><span style="color:#D4BE98"> µs]</span></span>
<span class="line"><span style="color:#A9B665">  Range</span><span style="color:#D4BE98"> (min </span><span style="color:#D8A657">…</span><span style="color:#D8A657"> max</span><span style="color:#D4BE98">):   117.9 µs … 536.1 µs    1006 runs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A9B665">  Warning:</span><span style="color:#D8A657"> Command</span><span style="color:#D8A657"> took</span><span style="color:#D8A657"> less</span><span style="color:#D8A657"> than</span><span style="color:#D3869B"> 5</span><span style="color:#D8A657"> ms</span><span style="color:#D8A657"> to</span><span style="color:#D8A657"> complete.</span><span style="color:#D8A657"> Note</span><span style="color:#D8A657"> that</span><span style="color:#D8A657"> the</span><span style="color:#D8A657"> results</span><span style="color:#D8A657"> might</span><span style="color:#D8A657"> be</span><span style="color:#D8A657"> inaccurate</span><span style="color:#D8A657"> because</span><span style="color:#D8A657"> hyper</span></span>
<span class="line"><span style="color:#A9B665">fine</span><span style="color:#D8A657"> can</span><span style="color:#D8A657"> not</span><span style="color:#D8A657"> calibrate</span><span style="color:#D8A657"> the</span><span style="color:#D8A657"> shell</span><span style="color:#D8A657"> startup</span><span style="color:#D8A657"> time</span><span style="color:#D8A657"> much</span><span style="color:#D8A657"> more</span><span style="color:#D8A657"> precise</span><span style="color:#D8A657"> than</span><span style="color:#D8A657"> this</span><span style="color:#D8A657"> limit.</span><span style="color:#D8A657"> You</span><span style="color:#D8A657"> can</span><span style="color:#D8A657"> try</span><span style="color:#D8A657"> to</span><span style="color:#D8A657"> use</span><span style="color:#D8A657"> the</span><span style="color:#D4BE98"> &#96;</span><span style="color:#A9B665">-N</span></span>
<span class="line"><span style="color:#D4BE98">&#96;</span><span style="color:#A9B665">/</span><span style="color:#D4BE98">&#96;--shell</span><span style="color:#E78A4E">=</span><span style="color:#D8A657">none</span><span style="color:#D4BE98">&#96;</span><span style="color:#A9B665"> option</span><span style="color:#D8A657"> to</span><span style="color:#D8A657"> disable</span><span style="color:#D8A657"> the</span><span style="color:#D8A657"> shell</span><span style="color:#D8A657"> completely.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A9B665">ziggy/2024/d1</span></span>
<span class="line"><span style="color:#A9B665">%</span><span style="color:#D8A657"> hyperfine</span><span style="color:#A9B665"> 'python3 main.py'</span></span>
<span class="line"><span style="color:#A9B665">Benchmark</span><span style="color:#D8A657"> 1:</span><span style="color:#D8A657"> python3</span><span style="color:#D8A657"> main.py</span></span>
<span class="line"><span style="color:#A9B665">  Time</span><span style="color:#D4BE98"> (mean </span><span style="color:#D8A657">±</span><span style="color:#D8A657"> σ</span><span style="color:#D4BE98">):      13.4 ms ±   0.3 ms    [User: </span><span style="color:#D3869B">10.7</span><span style="color:#D4BE98"> ms, System: </span><span style="color:#D3869B">2.1</span><span style="color:#D4BE98"> ms]</span></span>
<span class="line"><span style="color:#A9B665">  Range</span><span style="color:#D4BE98"> (min </span><span style="color:#D8A657">…</span><span style="color:#D8A657"> max</span><span style="color:#D4BE98">):    13.1 ms …  15.6 ms    187 runs</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A9B665">  Warning:</span><span style="color:#D8A657"> Statistical</span><span style="color:#D8A657"> outliers</span><span style="color:#D8A657"> were</span><span style="color:#D8A657"> detected.</span><span style="color:#D8A657"> Consider</span><span style="color:#D8A657"> re-running</span><span style="color:#D8A657"> this</span><span style="color:#D8A657"> benchmark</span><span style="color:#D8A657"> on</span><span style="color:#D8A657"> a</span><span style="color:#D8A657"> quiet</span><span style="color:#D8A657"> system</span><span style="color:#D8A657"> without</span></span>
<span class="line"><span style="color:#A9B665"> any</span><span style="color:#D8A657"> interferences</span><span style="color:#D8A657"> from</span><span style="color:#D8A657"> other</span><span style="color:#D8A657"> programs.</span><span style="color:#D8A657"> It</span><span style="color:#D8A657"> might</span><span style="color:#D8A657"> help</span><span style="color:#D8A657"> to</span><span style="color:#D8A657"> use</span><span style="color:#D8A657"> the</span><span style="color:#A9B665"> '--warmup'</span><span style="color:#D8A657"> or</span><span style="color:#A9B665"> '--prepare'</span><span style="color:#D8A657"> options.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A9B665">ziggy/2024/d1</span></span>
<span class="line"><span style="color:#A9B665">%</span></span></code></pre><!-- HTML_TAG_END --> <ul data-svelte-h="svelte-rmi88k"><li>based on this (somewhat crude) test we can see that Zig performs roughly 50 times faster than the Python.
<ul><li>this isn’t a dig against Python, it would be shocking if it wasn’t at least an order of magnitude slower than a low lever compiled language. Moreover this result just shows how fast Zig binaries are and how although much more verbose than the Python it isn’t overly complicated or unapproachable.</li></ul></li></ul></article> </div></div> <footer class="text-center mt-auto" data-svelte-h="svelte-1ej1xq0"><div class="container p-2"><section class="mb-0"> <a class="btn btn-outline-light btn-floating m-1" href="https://www.youtube.com/channel/UCsFz3xPT6LXXWcq_EbB1r-Q" role="button"><i class="fab fa-youtube"></i></a>        <a class="btn btn-outline-light btn-floating m-1" href="https://www.linkedin.com/in/cade-lueker-79a55b199/" role="button"><i class="fab fa-linkedin-in"></i></a>  <a class="btn btn-outline-light btn-floating m-1" href="https://www.github.com/cademichael/" role="button"><i class="fab fa-github"></i></a></section></div> <div class="text-center p-3 copyright">Made with [ <img src="/svelte-icon.svg" alt="Svelte" class="icon-svelte"> +
    <i class="fab fa-sass"></i>
    + <i class="fab fa-markdown"></i> ]</div></footer> 
			
			<script>
				{
					__sveltekit_1wxhf77 = {
						base: new URL("..", location).pathname.slice(0, -1)
					};

					const element = document.currentScript.parentElement;

					Promise.all([
						import("../_app/immutable/entry/start.B3eV4J36.js"),
						import("../_app/immutable/entry/app.D4RpWVDH.js")
					]).then(([kit, app]) => {
						kit.start(app, element, {
							node_ids: [0, 5],
							data: [null,null],
							form: null,
							error: null
						});
					});
				}
			</script>
		</div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
  </body>
</html>
<style>
  body {
    background-color: #fbf1c7;
  }
</style>
